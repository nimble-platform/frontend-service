<div *ngIf="!customCategoryPage">
    <h3 i18n>Choose product (or service) category</h3>

    <div class="row justify-content-md-center col-12 mt-3">

        <!-- search by pressing enter! -->
        <form #categorySearch="ngForm" (ngSubmit)="onSearchCategory()"
              class="col-12 row justify-content-md-center" novalidate>

            <div [hidden]="callback || !submitted || error_detc" class="space-right">
                <img class="space-before" src="assets/form_loader.gif"/>
            </div>

            <input class="form-control col-4" name="inputCtrl" [(ngModel)]="categoryKeyword" required/>
            <button type="submit" class="btn btn-success col-3 ml-3" [disabled]="!categorySearch.form.valid" i18n>Search product category</button>
        </form>

    </div>

    <div class="d-flex justify-content-end space-before" *ngIf="callback && !submitted">
        <div class="align-self-center space-right">
            Could not find a proper category for my product?
        </div>
        <button class="btn btn-danger" (click)="customCategoryPage=true">Specify your own category</button>
    </div>

    <div *ngIf="callback && !submitted && (!categories || categories.length == 0)" class="align-center space-before">
        <h4>No results found.</h4>
    </div>


    <ul class="list-group container mt-4" style="max-height: 500px; overflow-y: scroll;" *ngIf="callback && !submitted">
        <li *ngFor="let category of categories"
            class="list-group-item p-3 row"
            style="cursor: pointer;"
            (click)="selectCategory(category)">
            <div class="col-2">{{category.taxonomyId}}</div>
            <div class="col">{{category.preferredName}}</div>
        </li>
    </ul>

    <div class="row col-12 justify-content-center">
        <button class="btn btn-warning mt-3" (click)="selectCategory(null)" i18n>Continue publishing without a
            category
        </button>
    </div>
</div>


<!-- custom category view -->
<div *ngIf="customCategoryPage">
    <form #customCategoryForm="ngForm" class="row justify-content-md-center align-items-center col-12 mt-3">
        <i class="fa fa-reply space-right" (click)="customCategoryPage = false;" style="cursor: pointer"></i>
        <input name="inputCtrl" [(ngModel)]="customCategory" class="form-control space-right col-4" required>
        <button class="btn btn-success" (click)="addCustomCategory(customCategory)" [disabled]="!customCategoryForm.form.valid">Continue Publishing</button>
    </form>
    <div class="row col-12 justify-content-center">
        <button class="btn btn-warning mt-3" (click)="selectCategory(null)" i18n>Continue publishing without a
            category
        </button>
    </div>
</div>